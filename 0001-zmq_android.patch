diff --git a/configure.ac b/configure2.ac
index 0f19396bf..6519042f1 100644
--- a/configure.ac
+++ b/configure2.ac
@@ -664,6 +664,12 @@ PKG_CHECK_MODULES(LIBUNWIND, [libunwind],
         AC_MSG_WARN([Cannot find libunwind])
     ])
 
+# clang 6 has a warning that does not make sense on multi-platform code
+AX_CHECK_COMPILE_FLAG([-Wno-tautological-constant-compare],
+    [CFLAGS+=" -Wno-tautological-constant-compare" CXXFLAGS+=" -Wno-tautological-constant-compare"],
+    [],
+    [-Werror])
+
 # Subst LIBZMQ_EXTRA_CFLAGS & CXXFLAGS & LDFLAGS
 AC_SUBST(LIBZMQ_EXTRA_CFLAGS)
 AC_SUBST(LIBZMQ_EXTRA_CXXFLAGS)
@@ -690,3 +696,4 @@ AC_CONFIG_FILES([ \
     builds/msvc/Makefile])
 
 AC_OUTPUT
+
diff --git a/CMakeLists.txt b/CMakeLists2.txt
index a14e59e5b..e7a6bc80f 100644
--- a/CMakeLists.txt
+++ b/CMakeLists2.txt
@@ -16,6 +16,18 @@ if(COMPILER_SUPPORTS_C11)
     set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -std=gnu11")
 endif()
 
+if(NOT MSVC)
+    # clang 6 has a warning that does not make sense on multi-platform code
+    CHECK_CXX_COMPILER_FLAG("-Wno-tautological-constant-compare" CXX_HAS_TAUT_WARNING)
+    if(CXX_HAS_TAUT_WARNING)
+        set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wno-tautological-constant-compare")
+    endif()
+    CHECK_C_COMPILER_FLAG("-Wno-tautological-constant-compare" CC_HAS_TAUT_WARNING)
+    if(CC_HAS_TAUT_WARNING)
+        set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wno-tautological-constant-compare")
+    endif()
+endif()
+
 # Will be used to add flags to pkg-config useful when apps want to statically link
 set (pkg_config_libs_private "")
 
@@ -1027,3 +1039,4 @@ if (MSVC_VERSION EQUAL 1600)
     file (APPEND "${ZMQ_SLN_FILENAME}" "\n# This should be regenerated!\n")
   endif ()
 endif ()
+
